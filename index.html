<!DOCTYPE html>
<head>
    <title>CUWCD Pipeline COF App</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://js.arcgis.com/4.26/esri/themes/light/main.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!--<div class="row" id="titleBarRow" style="height:5vh;">
        <div class="col-12" id="titleBar">
            <img src="https://blog.cuwcd.com/wp-content/uploads/2020/10/Color-Icon1.png">
            <h3>CUWCD Pipeline Consequence of Failure Scoring Application</h3>
        </div>
    </div>-->
    <nav class="navbar navbar-expand sticky-top" id="navBar">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <img src="https://blog.cuwcd.com/wp-content/uploads/2020/10/Color-Icon1.png" style="width:50px;">
            </a>
            <span class="navbar-text me-auto" style="color:white;">CUWCD Pipeline COF Scoring Application</span>
        </div>
    </nav>
    <div id="toolBar" class="esri-widget"></div>
    <button id="print-btn" class="esri-widget">Click to Print</button>
    <div class="container-fluid">
        <div class="row" id="mapSidePanelRow" style="height:95vh;">
            <div class="col-md-2 col-xs-12" id="sidePanel">
                <h5 id="info-header">App Information</h5>
                <p id="info">The purpose of this application is to calculate consequence of failure scores for pipeline assets according to the <a href="COF Category Table 14 Apr22.png" target="_blank">
                    scoring matrix.</a>
                    <ol>
                        <li><strong>Calculate Score: </strong>To calculate the scores for a pipeline, click on the pipeline in the map and then click the "Calculate Score" button below.
                        The scores will populate in the table.</li>
                        <li><strong>Submit to DB: </strong>To record the scores to the database (DB), click the "Submit to DB" button.</li>
                        <li><strong>Past Scores: </strong>To view past scores for the selected pipeline 
                            (if they have been calculated and stored in the database), click on the "Past Scores" button below.</li>
                    </ol>
                </p>
                <p id="map-tools">
                    In the map there are additional tools:
                    <ul id="map-tools-list">
                        <li><strong>Basemap Gallery: </strong>Switch the basemap</li>
                        <li><strong>Map Legend</strong></li>
                        <li><strong>Layer List: </strong>Turn on/off the other layers involved in the score calculations (e.g., roads)</li>
                        <li><strong>Measurement Tool: </strong>Manually measure any distances in the map</li>
                        <li><strong>Print Button: </strong>Print the map and scoring table</li>
                    </ul> 
                </p>
                <br>
                <h5 id="score-header">COF Score for Selected Pipeline:</h5>
                <h5 id="pipeline_id"></h5>
                <table id="cof-score-tbl">
                    <tr>
                        <td>Pipe Diameter</td>
                        <td id="pipeScore" style="text-align: center;"></td>
                    </tr>
                    <tr>
                        <td>Streets</td>
                        <td id="streetScore" style="text-align: center;"></td>
                    </tr>
                    <tr>
                        <td>Critical Facility</td>
                        <td id="criticalFacScore" style="text-align: center;"></td>
                    </tr>
                    <tr>
                        <td>Mean Property Value</td>
                        <td id="propertyScore" style="text-align: center;"></td>
                    </tr>
                    <tr>
                        <td>Ease of Access</td>
                        <td id="accessScore" style="text-align: center;"></td>
                    </tr>
                    <tr>
                        <td>Water Body Crossing</td>
                        <td id="waterScore" style="text-align: center;"></td>
                    </tr>
                    <tr>
                        <td>Highway or Railroad Crossing</td>
                        <td id="highwayRailroadScore" style="text-align: center;"></td>
                    </tr>
                    <tr>
                        <td>Total COF Score</td>
                        <td id="totalScore" style="text-align: center;"></td>
                    </tr>
                </table>
                <button id="calculate" style="margin-top:20px;">Calculate Score</button>
                <button id="writeDB">Submit to DB</button>
                <button id="pastScores">Past Scores</button>
            </div>
            <div class="col-md-10 col-xs-12" id="viewDiv"></div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <script src="https://js.arcgis.com/4.26/"></script>
    <script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
    <script src="map.js"></script>
</body>